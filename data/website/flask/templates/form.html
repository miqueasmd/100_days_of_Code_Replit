<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='images/favicon/favicon.ico') }}">
</head>
<body>
    <header>
        <h1>Login System</h1>
    </header>

    <main class="form-container">
        <!-- Login Form -->
        <form action="/form" method="post">  <!-- Ensure the action points to the correct route -->
            {{ form.hidden_tag() }}  <!-- Include CSRF token -->
            <h1>Login</h1>
            
            <!-- Flash Messages - Display temporary feedback messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            
            <!-- Username Input -->
            <div class="form-group">
                <label for="username">Username:</label>
                {{ form.username(class="form-control", required=True) }}  <!-- Render username field with class -->
                {% if form.username.errors %}
                    <div class="error">{{ form.username.errors[0] }}</div>  <!-- Display username errors -->
                {% endif %}
            </div>

            <!-- Email Input -->
            <div class="form-group">
                <label for="email">Email:</label>
                {{ form.email(class="form-control", required=True) }}  <!-- Render email field with class -->
                {% if form.email.errors %}
                    <div class="error">{{ form.email.errors[0] }}</div>  <!-- Display email errors -->
                {% endif %}
            </div>

            <!-- Password Input -->
            <div class="form-group">
                <label for="password">Password:</label>
                {{ form.password(class="form-control", required=True) }}  <!-- Render password field with class -->
                {% if form.password.errors %}
                    <div class="error">{{ form.password.errors[0] }}</div>  <!-- Display password errors -->
                {% endif %}
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary">{{ form.submit.label }}</button>  <!-- Render submit button -->
        </form>
    </main>

    <footer>
        <nav class="blog-nav">
            <a href="/portfolio" class="link-button">Back to Portfolio</a>
        </nav>

        <section class="support">
            <h2><a href="https://ko-fi.com/miqueasmd" target="_blank">&#9749; Support Me</a></h2>
            <p>If you like my work, consider supporting my studies!</p>
            <a href="https://ko-fi.com/miqueasmd" class="ko-fi" target="_blank">
                <img src="https://ko-fi.com/img/githubbutton_sm.svg" alt="Support me on Ko-fi">
            </a>
        </section>
    </footer>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>